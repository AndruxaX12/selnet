# üó∫Ô∏è –î–∏–Ω–∞–º–∏—á–Ω–∏ –ú–∞—Ä–∫–µ—Ä–∏ —Å –ò–Ω—Ç—É–∏—Ç–∏–≤–µ–Ω Zoom

## ‚úÖ –ö–∞–∫–≤–æ –±–µ—à–µ –Ω–∞–ø—Ä–∞–≤–µ–Ω–æ:

### **–ü—Ä–æ–±–ª–µ–º:**
- –ú–∞—Ä–∫–µ—Ä–∏—Ç–µ (pointers) –±—è—Ö–∞ —Ç–≤—ä—Ä–¥–µ –º–∞–ª–∫–∏ (20x28px)
- –ü—Ä–∏ –∑—É–º –º–∞—Ä–∫–µ—Ä–∏—Ç–µ –∑–∞–ø–∞–∑–≤–∞—Ö–∞ —Å—ä—â–∏—è —Ä–∞–∑–º–µ—Ä
- –¢—Ä—É–¥–Ω–æ —Å–µ –≤–∏–∂–¥–∞—Ç –ø—Ä–∏ –æ—Ç–¥–∞–ª–µ—á–µ–Ω –∏–∑–≥–ª–µ–¥

### **–†–µ—à–µ–Ω–∏–µ:**
–ò–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞–Ω–∞ **–∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–∞ –ª–æ–≥–∏–∫–∞ –∑–∞ –¥–∏–Ω–∞–º–∏—á–µ–Ω —Ä–∞–∑–º–µ—Ä**:
- **Zoom OUT (–¥–∞–ª–µ—á–µ)** ‚Üí –ü–æ-–ì–û–õ–ï–ú–ò –º–∞—Ä–∫–µ—Ä–∏ (–¥–∞ —Å–µ –≤–∏–∂–¥–∞—Ç)
- **Zoom IN (–±–ª–∏–∑–æ)** ‚Üí –ü–æ-–ú–ê–õ–ö–ò –º–∞—Ä–∫–µ—Ä–∏ (–¥–µ—Ç–∞–π–ª–∏—Ç–µ —Å–µ –≤–∏–∂–¥–∞—Ç)

---

## üéØ –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–∞—Ç–∞ –õ–æ–≥–∏–∫–∞:

### **–ó–∞—â–æ –ø–æ-–≥–æ–ª–µ–º–∏ –º–∞—Ä–∫–µ—Ä–∏ –ø—Ä–∏ zoom out?**
```
–ö–æ–≥–∞—Ç–æ —Å–∏ –î–ê–õ–ï–ß–ï –æ—Ç –∫–∞—Ä—Ç–∞—Ç–∞:
- –í–∏–∂–¥–∞—à –º–Ω–æ–≥–æ —Ç–µ—Ä–∏—Ç–æ—Ä–∏—è
- –ú–∞—Ä–∫–µ—Ä–∏—Ç–µ —Å–∞ –º–Ω–æ–≥–æ –º–∞–ª–∫–∏ —Ç–æ—á–∫–∏
- –¢—Ä—É–¥–Ω–æ —Å–µ —Ä–∞–∑–ª–∏—á–∞–≤–∞—Ç

‚Üí –†–µ—à–µ–Ω–∏–µ: –ì–û–õ–ï–ú–ò –º–∞—Ä–∫–µ—Ä–∏ –∑–∞ –¥–∞ —Å–µ –≤–∏–∂–¥–∞—Ç
```

### **–ó–∞—â–æ –ø–æ-–º–∞–ª–∫–∏ –º–∞—Ä–∫–µ—Ä–∏ –ø—Ä–∏ zoom in?**
```
–ö–æ–≥–∞—Ç–æ —Å–∏ –ë–õ–ò–ó–û –¥–æ –∫–∞—Ä—Ç–∞—Ç–∞:
- –í–∏–∂–¥–∞—à –¥–µ—Ç–∞–π–ª–∏ –Ω–∞ —Ç–µ—Ä–µ–Ω–∞
- –í–µ—á–µ —Å–µ –≤–∏–∂–¥–∞—Ç —É–ª–∏—Ü–∏, —Å–≥—Ä–∞–¥–∏
- –ì–æ–ª–µ–º–∏—Ç–µ –º–∞—Ä–∫–µ—Ä–∏ –ø—Ä–µ—á–∞—Ç

‚Üí –†–µ—à–µ–Ω–∏–µ: –ú–ê–õ–ö–ò –º–∞—Ä–∫–µ—Ä–∏ –∑–∞ –¥–∞ –Ω–µ –±–ª–æ–∫–∏—Ä–∞—Ç –∏–∑–≥–ª–µ–¥–∞
```

---

## üìê –†–∞–∑–º–µ—Ä–∏ –ø–æ Zoom –ù–∏–≤–∞:

### **Base Size:**
- **Category Icons (pointers):** 40px (–±–µ—à–µ 20px) - **2x –ø–æ-–≥–æ–ª–µ–º–∏**
- **Default Pins:** 32px (–±–µ—à–µ 24px) - **1.33x –ø–æ-–≥–æ–ª–µ–º–∏**

### **–î–∏–Ω–∞–º–∏—á–Ω–æ –º–∞—â–∞–±–∏—Ä–∞–Ω–µ:**

| Zoom Level | –û–ø–∏—Å–∞–Ω–∏–µ | –ú–Ω–æ–∂–∏—Ç–µ–ª | Category Icon | Default Pin |
|------------|----------|----------|---------------|-------------|
| **7-9** | –î–∞–ª–µ—á–µ (—Ü—è–ª –≥—Ä–∞–¥) | **1.5x** | 60x84px | 48x67px |
| **10-13** | –°—Ä–µ–¥–Ω–æ (–∫–≤–∞—Ä—Ç–∞–ª–∏) | **1.0x** | 40x56px | 32x45px |
| **14-16** | –ë–ª–∏–∑–æ (—É–ª–∏—Ü–∏) | **0.75x** | 30x42px | 24x34px |
| **17-18** | –ú–Ω–æ–≥–æ –±–ª–∏–∑–æ (—Å–≥—Ä–∞–¥–∏) | **0.6x** | 24x34px | 19x27px |

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞ –ò–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è:

### **1. –§—É–Ω–∫—Ü–∏—è –∑–∞ –∏–∑—á–∏—Å–ª—è–≤–∞–Ω–µ –Ω–∞ —Ä–∞–∑–º–µ—Ä:**
```typescript
function getIconSizeByZoom(zoom: number, baseSize: number): [number, number] {
  if (zoom < 10) {
    return [baseSize * 1.5, (baseSize * 1.5 * 1.4)]; // 1.5x –ø–æ-–≥–æ–ª–µ–º–∏
  }
  else if (zoom < 14) {
    return [baseSize, baseSize * 1.4]; // –ù–æ—Ä–º–∞–ª–µ–Ω —Ä–∞–∑–º–µ—Ä
  }
  else if (zoom < 17) {
    return [baseSize * 0.75, (baseSize * 0.75 * 1.4)]; // 25% –ø–æ-–º–∞–ª–∫–∏
  }
  else {
    return [baseSize * 0.6, (baseSize * 0.6 * 1.4)]; // 40% –ø–æ-–º–∞–ª–∫–∏
  }
}
```

### **2. Hook –∑–∞ zoom —Å–ª—É—à–∞–Ω–µ:**
```typescript
function useZoomLevel() {
  const map = useMap();
  const [zoom, setZoom] = useState(map.getZoom());

  useEffect(() => {
    const updateZoom = () => {
      setZoom(map.getZoom());
    };

    map.on('zoomend', updateZoom);
    return () => {
      map.off('zoomend', updateZoom);
    };
  }, [map]);

  return zoom;
}
```

### **3. –î–∏–Ω–∞–º–∏—á–Ω–∏ –∏–∫–æ–Ω–∏:**
```typescript
// Category icons —Å –¥–∏–Ω–∞–º–∏—á–µ–Ω —Ä–∞–∑–º–µ—Ä
function categoryIcon(category: string, zoom: number = 12) {
  const [width, height] = getIconSizeByZoom(zoom, 40);
  return L.icon({
    iconUrl: `/pointers/${category}.png`,
    iconSize: [width, height],
    iconAnchor: [width / 2, height],
    popupAnchor: [0, -height]
  });
}

// Default pins —Å –¥–∏–Ω–∞–º–∏—á–µ–Ω —Ä–∞–∑–º–µ—Ä
function pin(color: string, zoom: number = 12) {
  const [width, height] = getIconSizeByZoom(zoom, 32);
  // SVG pin icon...
  return L.icon({ 
    iconUrl: `data:image/svg+xml;utf8,${svg}`, 
    iconSize: [width, height], 
    iconAnchor: [width / 2, height] 
  });
}
```

---

## üé® –í–∏–∑—É–∞–ª–µ–Ω –ï—Ñ–µ–∫—Ç:

### **–ü—Ä–∏ Zoom OUT (7-9):**
```
üó∫Ô∏è –¶—è–ª –≥—Ä–∞–¥
    üìç ‚Üê –ì–æ–ª—è–º –º–∞—Ä–∫–µ—Ä (60px) - –ª–µ—Å–Ω–æ —Å–µ –≤–∏–∂–¥–∞!
    üìç
    üìç
```

### **–ü—Ä–∏ –°—Ä–µ–¥–Ω–æ Zoom (10-13):**
```
üó∫Ô∏è –ö–≤–∞—Ä—Ç–∞–ª
   üìç ‚Üê –°—Ä–µ–¥–µ–Ω –º–∞—Ä–∫–µ—Ä (40px) - –±–∞–ª–∞–Ω—Å–∏—Ä–∞–Ω
   üìç
```

### **–ü—Ä–∏ Zoom IN (14-16):**
```
üó∫Ô∏è –£–ª–∏—Ü–∞
  üìå ‚Üê –ú–∞–ª—ä–∫ –º–∞—Ä–∫–µ—Ä (30px) - –Ω–µ –ø—Ä–µ—á–∏
  üìå
```

### **–ü—Ä–∏ MAX Zoom (17-18):**
```
üó∫Ô∏è –°–≥—Ä–∞–¥–∞
 üìå ‚Üê –ú–∏–Ω–∏ –º–∞—Ä–∫–µ—Ä (24px) - —Ç–æ—á–Ω–∞ –ø–æ–∑–∏—Ü–∏—è
```

---

## üß™ –¢–µ—Å—Ç–≤–∞–Ω–µ:

### **–¢–µ—Å—Ç 1: Zoom Out**
```
1. –û—Ç–≤–æ—Ä–µ—Ç–µ –Ω–∞—á–∞–ª–Ω–∞—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞
2. Zoom OUT –Ω–∞ –∫–∞—Ä—Ç–∞—Ç–∞ (–∫–æ–ª–µ–ª—Ü–µ –Ω–∞–¥–æ–ª—É –∏–ª–∏ - –±—É—Ç–æ–Ω)
3. ‚úÖ –ú–∞—Ä–∫–µ—Ä–∏—Ç–µ —Ç—Ä—è–±–≤–∞ –¥–∞ –ù–ê–†–ê–°–¢–í–ê–¢
```

### **–¢–µ—Å—Ç 2: Zoom In**
```
1. Zoom IN –Ω–∞ –∫–∞—Ä—Ç–∞—Ç–∞ (–∫–æ–ª–µ–ª—Ü–µ –Ω–∞–≥–æ—Ä–µ –∏–ª–∏ + –±—É—Ç–æ–Ω)
2. ‚úÖ –ú–∞—Ä–∫–µ—Ä–∏—Ç–µ —Ç—Ä—è–±–≤–∞ –¥–∞ –ù–ê–ú–ê–õ–Ø–í–ê–¢
```

### **–¢–µ—Å—Ç 3: –ü–ª–∞–≤–µ–Ω –ø—Ä–µ—Ö–æ–¥**
```
1. Zoom –ø–ª–∞–≤–Ω–æ –æ—Ç 7 –¥–æ 18
2. ‚úÖ –ú–∞—Ä–∫–µ—Ä–∏—Ç–µ —Ç—Ä—è–±–≤–∞ –ø–ª–∞–≤–Ω–æ –¥–∞ —Å–µ –ø—Ä–æ–º–µ–Ω—è—Ç
3. ‚úÖ –ù–ï —Ç—Ä—è–±–≤–∞ –¥–∞ –∏–º–∞ —Å–∫–æ–∫–æ–≤–µ
```

### **–¢–µ—Å—Ç 4: Category Icons**
```
1. –ù–∞–º–µ—Ä–µ—Ç–µ —Å–∏–≥–Ω–∞–ª —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è (–∏–º–∞ custom pointer)
2. Zoom IN/OUT
3. ‚úÖ Custom pointer-—ä—Ç —Å—ä—â–æ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ –º–∞—â–∞–±–∏—Ä–∞
```

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ü—Ä–µ–¥–∏/–°–ª–µ–¥:

### **–ü–†–ï–î–ò:**
```
Zoom 7:  üìç 20px - –¢–í–™–†–î–ï –ú–ê–õ–ö–û
Zoom 12: üìç 20px - –¥–æ–±—Ä–µ
Zoom 18: üìç 20px - –¢–í–™–†–î–ï –ì–û–õ–Ø–ú–û
```

### **–°–õ–ï–î:**
```
Zoom 7:  üìç 60px - –ü–ï–†–§–ï–ö–¢–ù–û (–≤–∏–∂–¥–∞—Ç —Å–µ)
Zoom 12: üìç 40px - –ü–ï–†–§–ï–ö–¢–ù–û (–±–∞–ª–∞–Ω—Å–∏—Ä–∞–Ω–æ)
Zoom 18: üìå 24px - –ü–ï–†–§–ï–ö–¢–ù–û (—Ç–æ—á–Ω–æ)
```

---

## üí° UX –ü—Ä–∏–Ω—Ü–∏–ø–∏:

### **1. Visibility Distance Principle:**
> "–ö–æ–ª–∫–æ—Ç–æ –ø–æ-–¥–∞–ª–µ—á–µ –µ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è—Ç, —Ç–æ–ª–∫–æ–≤–∞ –ø–æ-–≥–æ–ª–µ–º–∏ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–∞ –≤–∏–∑—É–∞–ª–Ω–∏—Ç–µ –µ–ª–µ–º–µ–Ω—Ç–∏"

### **2. Detail Proximity Principle:**
> "–ö–æ–ª–∫–æ—Ç–æ –ø–æ-–±–ª–∏–∑–æ –µ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è—Ç, —Ç–æ–ª–∫–æ–≤–∞ –ø–æ–≤–µ—á–µ –¥–µ—Ç–∞–π–ª–∏ –≤–∏–∂–¥–∞ –∏ –ø–æ-–º–∞–ª–∫–æ –º—É —Ç—Ä—è–±–≤–∞—Ç –≥–æ–ª–µ–º–∏ –º–∞—Ä–∫–µ—Ä–∏"

### **3. Progressive Disclosure:**
> "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è—Ç–∞ —Å–µ –ø–æ–∫–∞–∑–≤–∞ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ - –ø—ä—Ä–≤–æ –ø–æ–∑–∏—Ü–∏–∏—Ç–µ (–≥–æ–ª–µ–º–∏ –º–∞—Ä–∫–µ—Ä–∏), –ø–æ—Å–ª–µ –¥–µ—Ç–∞–π–ª–∏—Ç–µ (–º–∞–ª–∫–∏ –º–∞—Ä–∫–µ—Ä–∏)"

---

## üîÆ –ë—ä–¥–µ—â–∏ –ü–æ–¥–æ–±—Ä–µ–Ω–∏—è:

### **1. –ü–ª–∞–≤–Ω–∞ –∞–Ω–∏–º–∞—Ü–∏—è:**
```typescript
// Smooth transition between sizes
transition: 'all 0.3s ease-in-out'
```

### **2. –ê–¥–∞–ø—Ç–∏–≤–Ω–∏ threshold-–∏:**
```typescript
// –†–∞–∑–ª–∏—á–Ω–∏ —Ä–∞–∑–º–µ—Ä–∏ –∑–∞ mobile vs desktop
const isMobile = window.innerWidth < 768;
const baseSize = isMobile ? 50 : 40;
```

### **3. Clustering optimization:**
```typescript
// –ü–æ-–∞–≥—Ä–µ—Å–∏–≤–µ–Ω clustering –ø—Ä–∏ –Ω–∏—Å–∫–∏ zoom levels
const clusterRadius = zoom < 10 ? 80 : 54;
```

---

## ‚úÖ –†–µ–∑—É–ª—Ç–∞—Ç:

### **–ü–æ–¥–æ–±—Ä–µ–Ω–∏—è:**
- ‚úÖ –ú–∞—Ä–∫–µ—Ä–∏—Ç–µ —Å–∞ **2x –ø–æ-–≥–æ–ª–µ–º–∏** –ø–æ –ø–æ–¥—Ä–∞–∑–±–∏—Ä–∞–Ω–µ
- ‚úÖ **–î–∏–Ω–∞–º–∏—á–Ω–æ –º–∞—â–∞–±–∏—Ä–∞–Ω–µ** —Å–ø–æ—Ä–µ–¥ zoom
- ‚úÖ **–ò–Ω—Ç—É–∏—Ç–∏–≤–µ–Ω UX** - –≥–æ–ª–µ–º–∏ –¥–∞–ª–µ—á–µ, –º–∞–ª–∫–∏ –±–ª–∏–∑–æ
- ‚úÖ **–ü–ª–∞–≤–Ω–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ** - –±–µ–∑ —Å–∫–æ–∫–æ–≤–µ
- ‚úÖ –†–∞–±–æ—Ç–∏ –∑–∞ **–≤—Å–∏—á–∫–∏ —Ç–∏–ø–æ–≤–µ –º–∞—Ä–∫–µ—Ä–∏** (category icons + pins)

### **User Experience:**
- ‚úÖ –ü–æ-–ª–µ—Å–Ω–æ –Ω–∞–º–∏—Ä–∞–Ω–µ –Ω–∞ –º–∞—Ä–∫–µ—Ä–∏ –ø—Ä–∏ zoom out
- ‚úÖ –ü–æ-—á–∏—Å—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–∏ zoom in
- ‚úÖ –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–æ –∏ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
- ‚úÖ –ü–æ-–¥–æ–±—Ä–∞ —á–∏—Ç–∞–µ–º–æ—Å—Ç –Ω–∞ –∫–∞—Ä—Ç–∞—Ç–∞

---

## üìù –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –î–µ—Ç–∞–π–ª–∏:

### **–§–∞–π–ª–æ–≤–µ –ø—Ä–æ–º–µ–Ω–µ–Ω–∏:**
- `components/home/map/MarkerLayer.tsx` - –û—Å–Ω–æ–≤–Ω–∞ –ª–æ–≥–∏–∫–∞

### **–ü—Ä–æ–º–µ–Ω–∏:**
1. –î–æ–±–∞–≤–µ–Ω `useZoomLevel()` hook
2. –î–æ–±–∞–≤–µ–Ω–∞ `getIconSizeByZoom()` —Ñ—É–Ω–∫—Ü–∏—è
3. –û–±–Ω–æ–≤–µ–Ω–∏ `categoryIcon()` –∏ `pin()` —Ñ—É–Ω–∫—Ü–∏–∏
4. –ú–∞—Ä–∫–µ—Ä–∏—Ç–µ –ø–æ–ª—É—á–∞–≤–∞—Ç `zoom` –ø–∞—Ä–∞–º–µ—Ç—ä—Ä

### **Performance:**
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª–µ–Ω overhead - —Å–∞–º–æ —Å–ª—É—à–∞ zoom events
- ‚úÖ –†–µ-—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å–∞–º–æ –ø—Ä–∏ zoom –ø—Ä–æ–º—è–Ω–∞
- ‚úÖ –ò–∫–æ–Ω–∏ —Å–µ –∫–µ—à–∏—Ä–∞—Ç –æ—Ç Leaflet

---

**–î–∞—Ç–∞:** November 30, 2025  
**Status:** ‚úÖ IMPLEMENTED  
**Files Changed:** 1  
**Base Size Increase:** 2x  
**Dynamic Scaling:** 0.6x - 1.5x
